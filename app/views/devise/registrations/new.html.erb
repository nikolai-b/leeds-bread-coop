<h2>Sign up</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <div><%= f.label :email %><br />
  <%= f.email_field :email, autofocus: true %></div>

  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :address %><br>
    <%= f.text_area :address %>
  </div>
  <div class="field">
    <%= f.label :phone %><br>
    <%= f.phone_field :phone %>
  </div>
  <div class="field">
    <%= f.label :collection_point %><br>
    <%= collection_select(:subscriber, :collection_point_id, CollectionPoint.all, :id, :name) %>
  </div>
  <div class="field">
    <div class="input-append date">
      <%= f.label :start_date, "Start date" %>
      <input class="span12" data-behaviour='datepicker' value="<%= (Date.current + 7.days).beginning_of_week.try(:strftime, "%d/%m/%Y") %>" id="subscriber_start_date" name="subscriber[start_date]" type="text">
      </input>
      <span class="add-on">
        <i class="icon-th"></i>
      </span>
    </div>
    <script type="text/javascript">
      $('#subscriber_start_date').datepicker({
          format: "dd/mm/yyyy",
          weekStart: 1,
          todayBtn: "linked",
          daysOfWeekDisabled: "0,2,4,5,6"
      });
    </script>
  </div>
  <div class="field">
    <%= f.label :bread_type_id %><br>
    <%= collection_select(:subscriber, :bread_type_id, BreadType.all, :id, :name) %>
  </div>
  <div class="field">
    <%= f.label :quantity %><br>
    <%= f.number_field :quantity %>
  </div>

  <div><%= f.label :password %><br />
    <%= f.password_field :password, autocomplete: "off" %></div>

  <div class="field">
    <%= f.label :notes %><br>
    <%= f.text_area :notes %>

  <% if devise_mapping.rememberable? -%>
    <div><%= f.check_box :remember_me %> <%= f.label :remember_me %></div>
  <% end -%>

  <div><%= f.submit "Subscribe" %></div>
<% end %>

<%= render "devise/shared/links" %>
